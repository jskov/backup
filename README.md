![](https://github.com/jskov/backup/workflows/Build%20and%20Test/badge.svg)

# backup

Application that makes an encrypted backup of photo/music files.

The output is encrypted with GPG and includes a restore script that can verify backup integrity.

The script is intended for personal use. You are welcome to use it, but do not expect support in any form.

# Actions Build Pipeline

The hosted Actions build pipeline uses an Ubuntu 18.04.

To reproduce the Actions environment locally:

```console
$ ./gradlew makeActionsDockerImage
$ podman run -i -t actions-backup
````

# Jotta Verification

With [Jotta](https://www.jottacloud.com/en/) it is possible to get MD5 sums of stored files like this:

```console
$ jotta-cli ls -l Archive/backup/music
Name                           Size                          Checksum                LastModified  
-------------------------  --------  --------------------------------  --------------------------  
music-2021.03.07-01.crypt   1.00GiB  7fcf5071496b4d2a6aa981caf9adbec8  2021-03-07-T12:37:20Z+0100  
...
```

The `verify -j path` option allows the backup info in the cloud to be verified by comparing the file checksums.


# Testing


## Test Certificate 

The tests use a dummy certificate.

A new one can be generated by running the script `./src/test/create-test-key.sh`.
